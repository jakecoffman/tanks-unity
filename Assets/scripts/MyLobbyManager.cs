using UnityEngine;using UnityEngine.Networking;using System.Collections.Generic;public class MyLobbyManager : NetworkLobbyManager {    public int rows = 16;    public int columns = 16;    IEnumerator<Transform> spawnPoints;    Object spawnPointLock = new Object();    public override void OnLobbyServerPlayersReady()    {        base.OnLobbyServerPlayersReady();    }    // for users to apply settings from their lobby player object to their in-game player object    public override bool OnLobbyServerSceneLoadedForPlayer(GameObject lobbyPlayer, GameObject gamePlayer)    {         var t = GetNextSpawnPoint();        gamePlayer.transform.position = t.position;        gamePlayer.transform.rotation = t.rotation;        return true;    }    public Transform GetNextSpawnPoint()    {        lock(spawnPointLock)        {            if (spawnPoints == null)            {                spawnPoints = SpawnPointEnumerable().GetEnumerator();                spawnPoints.MoveNext();            }            var t = spawnPoints.Current;            spawnPoints.MoveNext();            return t;        }    }    IEnumerable<Transform> SpawnPointEnumerable()    {        while (true)        {            var pos1 = new GameObject();            pos1.transform.position = new Vector3(0, rows - 1, 0f);            pos1.transform.Rotate(Vector3.forward * -90);            yield return pos1.transform;            var pos2 = new GameObject();            pos2.transform.position = new Vector3(columns - 1, 0, 0f);            pos2.transform.Rotate(Vector3.forward * 90);            yield return pos2.transform;            var pos3 = new GameObject();            pos3.transform.position = new Vector3(columns - 1, rows - 1, 0f);            pos3.transform.Rotate(Vector3.forward * 90);            yield return pos3.transform;            var pos4 = new GameObject();            pos4.transform.position = new Vector3(0, 0, 0f);            pos4.transform.Rotate(Vector3.forward * -90);            yield return pos4.transform;        }    }}